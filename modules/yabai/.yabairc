#!/usr/bin/env zsh

# How to restart
# brew services restart yabai


# global settings
yabai -m config mouse_follows_focus           off
yabai -m config focus_follows_mouse           off
yabai -m config window_placement              second_child

# general space settings
# yabai -m config layout                        stack
space_indices_on_ipad_display="$(
  yabai -m query --displays \
    | jq -e 'map(select(.id != 1)) | .[0].spaces[]'
)"
for index in "$space_indices_on_ipad_display"
do
    yabai -m config --space "$index" layout stack
done


# Debug
yabai -m config debug_output on

# Rules
yabai -m rule --add app="^System Preferences$" manage=off
yabai -m rule --add app="^DeepL$"              manage=off
yabai -m rule --add app="^1Password 7$"        manage=off
yabai -m rule --add app="^Alfred$"             manage=off
yabai -m rule --add app="^AppCleaner$"         manage=off
yabai -m rule --add app="^Dictionary$"         manage=off
yabai -m rule --add app="^Disk Utility$"       manage=off
yabai -m rule --add app="^Simulator$"          manage=off
yabai -m rule --add app="^ColorSnapper2$"      manage=off
yabai -m rule --add app="^Finder$"             manage=off
yabai -m rule --add app="^Preview$"            manage=off
